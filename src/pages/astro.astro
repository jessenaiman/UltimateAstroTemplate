---
import Layout from '../layouts/Layout.astro';
import { getEntry } from 'astro:content';

// Get the AstroJS markdown content
const astroContent = await getEntry('info', 'astrojs');

// Extract sections from the markdown content
const sections = astroContent.body
  .split('## ')
  .filter(section => section.trim())
  .map(section => {
    const [title, ...content] = section.split('\n');
    return {
      title: title.trim(),
      content: content.join('\n').trim()
    };
  });
---

<Layout 
  title="AstroJS Showcase | Ultimate Astro Template"
  primaryBallColor="hsl(258.1 94.6% 51.2%)"
  secondaryBallColor="hsl(262.1 83.3% 57.8%)"
  gridColor="hsl(0 0% 100% / 0.03)"
  diagonalColor="hsl(0 0% 100% / 0.05)"
  vignetteColor="hsl(0 0% 0% / 0.5)"
>
  <main class="container mx-auto px-4 py-12">
    <!-- Hero Section -->
    <section class="text-center mb-16">
      <h1 class="text-5xl font-bold mb-6">
        <span class="bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary">
          AstroJS Showcase
        </span>
      </h1>
      <p class="text-xl text-base-content/80 max-w-3xl mx-auto">
        {astroContent.data.description}
      </p>
    </section>

    <!-- Key Features -->
    <section class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
      {sections.map((section, index) => (
        <div class="card bg-base-200 shadow-xl hover:shadow-2xl transition-shadow duration-300">
          <div class="card-body">
            <h2 class="card-title text-2xl mb-4">
              {section.title}
            </h2>
            <div class="prose prose-invert max-w-none" set:html={section.content} />
            <div class="card-actions justify-end mt-4">
              <button class="btn btn-primary btn-sm">Learn More</button>
            </div>
          </div>
        </div>
      ))}
    </section>

    <!-- Interactive Demo -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold mb-8 text-center">Interactive Demo</h2>
      <div class="mockup-browser border border-base-300 bg-base-200">
        <div class="mockup-browser-toolbar">
          <div class="input border border-base-300">https://astro.build</div>
        </div>
        <div class="flex justify-center px-4 py-16 bg-base-300">
          <p>Interactive demo coming soon...</p>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  /* Add any custom styles here if needed */
</style>
